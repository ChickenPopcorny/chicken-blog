---
title: 大前端笔记之03 🔍 CSS 选择器
date: 2020-01-20 16:57:55
abbrlink: 1lc5rbtd
tags: CSS
categories: 大前端
excerpt: 要修改元素的样式，那么首先要将这些元素找出来。CSS 提供了丰富的选择器用来选择想要修饰的元素。
---

# 大前端笔记之03 🔍 CSS 选择器

要修改元素的样式，那么首先要将这些元素找出来。CSS 提供了丰富的选择器用来选择想要修饰的元素。

## 简单选择器

下面是一些最为基础的选择器。

### 元素选择器

元素选择器也称为类型选择器，它通过 HTML 元素的名称选择对应的元素。

```css
div {}
```

### 类选择器

类选择器由一个点`.`后跟元素的类名称构成，类名称对应的是 HTML 元素中`class`属性的值。多个元素可以拥有相同的类名称，而一个元素也可以拥有多个类名称，多个类名称之间在`class`属性中使用空格隔开。

如果类选择器的名称包含多个单词，应该使用短横线命名法。

```html
<button class="btn btn-danger"></button>
```

```css
.btn-danger {}
```

### ID 选择器

ID 选择器是由一个`#`符号后跟元素的 ID 构成的，ID 对应的是 HTML 元素中`id`属性的值。元素的`id`属性在当前文档中必须是唯一的，主要供 JavaScript 脚本使用。

如果 ID 选择器的名称包含多个单词，应该使用驼峰命名法。

```html
<div id="toolBar"></div>
```

```css
#toolBar {}
```

### 通配选择器
通配选择器用一个星号`*`表示，它可以用来选择页面上所有的元素。对于页面元素不多的页面，可以使用它来清除默认样式。但是，该选择器容易意外地将一些元素设置样式，并且在页面元素非常多的情况下可能会产生性能下降问题（虽然以目前的机器性能来说几乎可以忽略不计），所以最好还是不要滥用。

```css
* {
    margin: 0;
    padding: 0;
}
```

## 组选择器

有时单个选择器可能无法完成比较复杂的选择，因此它们也可以组合使用。

### 交集选择器

将多个选择器直接合并到一起（只要语法不产生歧义即可），可以选择同时符合这些选择器的元素。

```css
div.box {}
```

### 并集选择器

将多个选择器使用逗号`,`隔开，可以同时使用这些选择器选择不同的元素。为了方便阅读，逗号后最好换行再写下一个选择器。

```css
h1,
h2 {}
```

### 后代选择器

将多个选择器之间使用空格隔开，可以选择父元素中所有符合条件的后代元素。

```css
div span {} /* 选择 <div> 中所有的 <span> */
```

### 子选择器

将多个选择器之间使用`>`隔开，可以选择父元素中所有符合条件的子元素。

```css
div > span {} /* 选择 <div> 中的子元素 <span> */
```

### 相邻后续选择器

将多个选择器之间使用`+`隔开，可以选择该元素相邻的**下一个**满足条件的元素，它要求这两个元素必须是同级而且紧邻，中间不能间隔其它元素。

```html
<span>A</span>
<span class="B">B</span>
<span>C</span>
```

```css
.B + span {} /* 选择 C 元素 */
```

### 所有后续选择器

将多个选择器之间使用`~`隔开，可以选择该元素**之后所有**满足条件的元素，只要这些元素是同级即可，中间可以间隔其它元素。

```html
<span>A</span>
<span class="B">B</span>
<em>hi</em>
<span>C</span>
<span>C</span>
<span>C</span>
```

```css
.B ~ span {} /* 选择三个 C 元素 */
```

## 伪类选择器

伪类选择器可以选择文档结构以外的元素，它由一个冒号`:`后接关键字组成。注意，在使用伪选择器（包括下文的伪元素）时，**不要为了美观添加多余的空格**，这会导致触发后代选择器，从而无法得到想要的结果。

### :hover

选择鼠标当前悬停的元素。

```css
div:hover {}
```

### :focus

选择当前获得焦点的元素。

```css
input:focus {}
```

### :empty

选择没有子元素（包括普通文本、空格和换行，但注释除外）的元素，也包括单标签元素。

```css
p:emtpy {}
```

### :only-child

选择没有兄弟元素的元素。

在下面的代码中，由于`<span>`没有同级的元素，因此可以被选中。

```html
<p>
    <span></span>
</p>
```

```css
span:only-child {}
```

### :only-of-type

选择没有**相同类型**兄弟元素的元素。

在下面的代码中，虽然`<span>`有兄弟元素，但并不是与之相同类型的`<span>`，因此可以被选中。

```html
<p>
    <span></span>
    <strong></strong>
</p>
```

```css
span:only-of-type {}
```

### :first-child / :last-child

选择一组兄弟元素中的第一个（或最后一个）。注意，该元素必须是同级元素中的第一个，否则无法被选中。

在下面的代码中，由于`.item`并不是同级的`<li>`中的第一个，所以没有元素被选中。

```html
<ul>
    <li>1</li>
    <li class="item">2</li>
    <li class="item">3</li>
</ul>
```

```css
.item:first-child {}
```

### :first-of-type / :last-of-type

选择一组**同类型**兄弟元素中的第一个（或最后一个）。注意，该元素必须是同级元素中的第一个，否则无法被选中。

在下面的代码中，虽然`<span>`并不是同级元素中的第一个，但它是`<span>`类型中的第一个，所以可以被选中。

```html
<div>
    <p>p</p>
    <span>span</span>
</div>
```

```css
span:first-of-type {}
```

### :nth-child() / :nth-last-child()

选择一组兄弟元素中的第 n 个（或倒数第 n 个）， n 从`1`开始，也就是说第 1 个元素索引为`1`，而不是`0`。注意，该元素必须是同级元素中的第 n 个，否则无法被选中。

其中括号的参数可以为：

| 参数 | 描述 |
| --- | --- |
| 关键字`odd` / `even` | 表示第奇数 / 偶数个元素 |
| 整数值`n` | 表示第`n`个元素，最小值为`1` |
| 表达式`An+B` | 表示第`An+B`个元素，`n`为从`0`开始的自然数，`A`和`B`必须为正整数 |

```css
:nth-child(odd) {}              /* 选择第奇数个元素，如第 1、3、5、7... 个 */
:nth-child(even) {}             /* 选择第偶数个元素，如第 2、4、6、8... 个 */
:nth-child(3) {}                /* 选择第 3 个元素 */
:nth-child(3n+2) {}             /* 选择第 3n+2 个元素，如第 2、5、8、11... 个 */
:nth-child(-n+5)                /* 选择第 5、4、3、2、1 个元素，即前 5 个元素 */
:nth-child(n+3)                 /* 选择第 3、4、5、6... 个元素 */
:nth-child(-n+5):nth-child(n+3) /* 选择第 3、4、5 个元素 */
```

### :nth-of-type() / :nth-last-of-type()

选择一组**同类型**兄弟元素中的第 n 个（或倒数第 n 个），与上文用法一样，不再赘述。

### :not()

选择不符合指定选择器的元素。

```css
code:not(.hljs) /* 选择不包含 .hljs 类的所有 <code> 元素 */
```

## 伪元素选择器

伪元素由两个冒号`::`后接关键字组成。

### ::before / ::after

创建一个伪元素，将其作为**子元素**追加到匹配元素内部的最前面（或最后面），默认是**行内元素**。注意，必须使用`content`属性设置伪元素内容才可以使之生效，如果不需要内容，则设置为`content: ""`。

```css
div::after { 
    content: "";
}
```

注意，`<img>`和一些表单元素为空元素，不能有任何的子元素，因此它们也不能与`::before`或`::after`连用。

### ::selection

改变选中的元素样式。注意，该选择器仅适用于下面的特定样式属性，其它属性无效。

```css
a::selection {
    color: green;
    background-color: orange;
    cursor: pointer;
}
```

## 属性选择器

根据元素的属性选择元素。属性值最好用双引号`""`包裹，并且区分大小写。它的用法包括：

| 选择器  | 描述 |
| --- | --- |
| `[attr]` | 选择所有包含`attr`属性的元素，无论它的值是什么 |
| `[attr="val"]` | 选择所有包含`attr`属性的元素，但是值必须完全是`val` |
| `[attr\|="val"]` | 选择所有包含`attr`属性的元素，但是值必须完全是`val`或者以`val-`开头（注意短横线） |
| `[attr^="val"]` | 选择所有包含`attr`属性的元素，但是值必须以`val`开头 |
| `[attr$="val"]` | 选择所有包含`attr`属性的元素，但是值必须以`val`结尾 |
| `[attr~="val"]` | 选择所有包含`attr`属性的元素，但是值必须包含`val`，且必须与其它值以**空格**隔开，不能连在一起 |
| `[attr*="val"]` | 选择所有包含`attr`属性的元素，但是值必须包含`val`作为子字符串（例如`cat`是`caterpillar`的子字符串） |

```html
<p>0</p>
<p data-fruit="">1</p>
<p data-fruit="apple">2</p>
<p data-fruit="banana apple">3</p>
<p data-fruit="apples">4</p>
<p data-fruit="apple-bad">5</p>
```

```css
[data-fruit] {}              /* 选择除 0 号以外的元素  */
[data-fruit = "apple"] {}    /* 选择 2 号元素 */
[data-fruit ~= "apple"] {}   /* 选择 2、3 号元素 */
[data-fruit |= "apple"] {}   /* 选择 2、5 号元素 */
[data-fruit ^= "apple"] {}   /* 选择 2、4、5 号元素 */
[data-fruit $= "les"] {}     /* 选择 4 号元素 */
[data-fruit *= "apple"] {}   /* 选择 2、3、4、5 号元素 */
```