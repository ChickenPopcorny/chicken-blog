---
title: 大前端笔记之14 🔌 JavaScript 标准库
date: 2020-02-01 11:24:15
abbrlink: i82icjg7
tags: JavaScript
categories: 大前端
excerpt: 本节均是一些 JavaScript 提供的常用 API，需要时查询即可。
---

# 大前端笔记之14 🔌 JavaScript 标准库

本节均是一些 JavaScript 提供的常用 API，需要时查询即可。

## Array

### indexOf() / lastIndexOf()

获取元素在数组中首次出现的索引位置。

| 参数 | 描述 |
| --- | --- |
| 对象 | 要查找的元素 |
| 数值 | 可选，表示从该索引位置（包括）向后查找 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 元素在数组中首次出现的索引位置，如果不存在返回`-1` |

```js
var array = [10, 20, 30, 20]
array.indexOf(20) // => 1
array.indexOf(233) // 元素不存在，返回 -1

// 第二个参数表示从该索引位置（包括）向后查找
array.indexOf(20, 2) // => 3，因为是从 30 开始查找的 
```

与之类似的`lastIndexOf()`则是从后开始查找，注意它返回的索引是不会改变的，依然是从左开始计数。

```js
var array = [10, 20, 30, 20]
array.lastIndexOf(20) // => 3
```

### unshift() / push()

在数组开头 / 末尾添加若干元素，会修改原数组。

| 参数 | 描述 |
| --- | --- |
| 若干对象 | 要添加的元素 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 数组修改后的长度 |

```js
var array = [10]

array.unshift(6, 8) // => 3 
// array => [6, 8, 10]

array.push(20, 30) // => 3 
// array => [10, 20, 30]
```

### shift() / pop()

删除数组第一个 / 最后一个元素，会修改原数组。

| 返回值 | 描述 |
| --- | --- |
| 对象 | 删除的元素 |

```js
var array = [10, 20, 30]
array.shift() // => 10
// array => [20, 30]

array.pop() // => 30
// array => [10, 20]
```

### splice()

删除从指定索引开始的若干元素（并添加新元素），会修改原数组。

| 参数 | 描述 |
| --- | --- |
| 数值 | 起始索引（包括） |
| 数值 | 可选，要删除的元素数量，如果省略则删除起始索引之后的所有元素 |
| 若干对象 | 可选，删除元素后在起始索引处添加的新元素，如果省略则仅删除元素 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 删除的元素构成的数组，如果没有则返回空数组 |

```js
var array = [10, 20, 30, 40, 50]
array.splice(1, 2) // => [20, 30]
// array => [10, 40, 50]
array.splice(1, 2, 233) // => [20, 30]
// array => [10, 233, 40, 50]
```

### slice()

截取数组的一部分并返回，不会修改原数组。

| 参数 | 描述 |
| --- | --- |
| 数值 | 起始索引（包括），如果为负数则表示从后开始计数，最后一个元素的索引为`-1`，依次向前类推；如果省略则默认为`0` |
| 数值 | 结束索引（不包括），如果为负数则表示从后开始计数，最后一个元素的索引为`-1`，依次向前类推；如果省略则截取到数组最后 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 截取的数组 |

```js
var array = [10, 20, 30, 40]
array.slice(1) // => [20, 30, 40]
array.slice(1, 3) // => [20, 30]

array.slice(-2) // => [30, 40]
array.slice(-3, -1) // => [20, 30]
```

### reverse()

将数组中的元素倒序排列，会修改原数组。

| 返回值 | 描述 |
| --- | --- |
| 数组 | 倒序的数组 |

```js
var array = [10, 20, 30, 40]
array.reverse() // => [40, 30, 20, 10]
```

### sort()

将数组按照一定规则排序，会修改原数组。注意，其默认的排序规则是 Unicode 码点，因此对于数值来说，它并不会比较数值的大小。

| 参数 | 描述 |
| --- | --- |
| 函数 | 表示自定义排序规则。其两个参数表示数组的任意两个元素，通过比较后的返回值，可以决定排序规则。该函数写法比较固定，记住即可不必深究原理 |

```js
;['d', 'c', 'b', 'a'].sort() // => ['a', 'b', 'c', 'd']
;[13, 1, 77, 7].sort() // => [1, 13, 7, 77]

// 表示升序排列，return b - a 则表示降序
function rule(a, b) { return a - b }

;[10, 1000, 100].sort(rule) // => array: [10, 100, 1000]
```

### concat()

将一个数组（参数）追加到另一个数组（调用者）的后面，不会修改原数组。

| 参数 | 描述 |
| --- | --- |
| 数组 | 要追加的数组 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 合并后的新数组 |

```js
;[10, 20].concat([30, 40]) // => [10, 20, 30, 40]
```

### forEach()

遍历数组。

| 参数 | 描述 |
| --- | --- |
| 函数 | 表示处理函数，它有三个参数，第一个表示当前元素，第二个表示当前索引，第三个表示遍历的数组本身 |

```js
var arr = [10, 20, 30]
arr.forEach(function (value, index, array) {
    value // 当前元素
    index // 当前元素的索引
    array // 数组对象
})
```

### find() / findIndex()

根据条件查找第一个匹配的元素 / 元素索引并返回：

| 参数 | 描述 |
| --- | --- |
| 函数 | 表示处理函数，它有三个参数，第一个表示当前元素，第二个表示当前索引，第三个表示遍历的数组本身，返回值为判断条件 |

| 返回值 | 描述 |
| --- | --- |
| 对象 / 数值 | 匹配的元素 / 元素索引 |

```js
var data = [
    { id: 1, name: 'Wendy'},
    { id: 2, name: 'Lucy'}
]

data.find(function (el, index, array) {
    return el.id == 1
}) // => { id: 1, name: 'Wendy'}

data.findIndex(function (el, index, array) {
    return el.id == 1
}) // => 0
```

### filter()

根据条件过滤数组中的所有元素，将满足条件的元素放入一个新数组，不会影响原数组。

| 参数 | 描述 |
| --- | --- |
| 函数 | 表示处理函数，它有三个参数，第一个表示当前元素，第二个表示当前索引，第三个表示遍历的数组本身，返回值为判断条件 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 满足条件元素组成的新数组 |

```js
var arr = [10, 5, 3, 0, 233, 666, 0]
arr.filter(function (value, index, array) {
    return value != 0
}) // => [10, 5, 3, 233, 666]
```

### some()

查找数组中是否有满足条件的元素，只要找到了符合条件的元素就会**立刻终止遍历**，不会继续判断后续的元素。

| 参数 | 描述 |
| --- | --- |
| 函数 | 表示处理函数，它有三个参数，第一个表示当前元素，第二个表示当前索引，第三个表示遍历的数组本身，返回值为判断条件 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果数组中包含满足条件的元素返回`true`，否则返回`false` |

```js
var arr = [10, 50, 100]
arr.some(function (value, index, array) {
    return value > 50
}) // => true
```

### includes()

查找数组中是否包含指定的元素。

| 参数 | 描述 |
| --- | --- |
| 对象 | 要查找的元素 |
| 数值 | 可选，表示从该索引位置（包括）向后查找 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果数组中包含指定元素返回`true`，否则返回`false` |

```js
;[10, 50, 100].includes(10) // => true
```

### join()

以特定字符作为分隔符，将数组元素转换成一个字符串。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 表示分隔符，如果省略则默认为逗号，与直接使用数组调用`toString()`方法的结果相同 |

| 返回值 | 描述 |
| --- | --- |
| 字符串 | 拼接后的字符串 |

```js
var array = [10, 20, 30]
array.join() // => '10,20,30'
array.join('|') // => '10|20|30'
```

### reduce()

对数组中的某些数据进行累计，返回一个累计后的值。

| 参数 | 描述 |
| --- | --- |
| 函数 | 迭代函数，包含最多以下四个参数： |
| 子参数① | 累计的结果值 |
| 子参数② | 当前处理的数组元素 |
| 子参数③ | 可选，起始索引，如果提供了初始值，那么默认为`0`，否则为`1` |
| 子参数④ | 可选，调用该方法的数组 |
| 对象 | 可选，迭代的初始值，默认为数组的第一个元素 |

| 返回值 | 描述 |
| --- | --- |
| 对象 | 累计之后的结果 |

该方法可以依次取出数组元素，累计到结果值（子参数①）上。迭代函数的返回值表示本次的计算结果，迭代函数每次执行时，结果值均为上一次迭代的结果，通过与当前数组元素进行运算（不一定是加法，任何运算都可以），从而实现累计。

在下面的代码中，迭代函数首先取出数组的第一个元素`10`作为`sum`，取出第二个元素`20`作为`current`，然后将累加后的结果`30`作为返回值，保存到`sum`；第二次迭代时，取出上次的`sum`即`30`，取出第三个元素`40`作为`current`，将累加后的结果`70`作为返回值`sum`；此时迭代结束，将最后的`sum`即`70`作为方法的返回值。

```js
[10, 20, 40].reduce(function (sum, current) {
    return sum + current
}) // => 70
```

如果给出迭代函数之外的第二个参数，表示迭代的初始值。此时迭代函数会将该初始值作为`sum`，而不是数组的第一个元素；第一次迭代时也会变成取出数组的第一个元素。

```js
[10, 20, 40].reduce(function (sum, current) {
    return sum + current
}, 0) // => 70
```

两种方式的计算结果是一样的，区别在于，如果给出了初始值，那么迭代函数会多执行一次（因为第一次迭代只能取出第一个元素，否则可以一次取出两个）。不过还是建议总是给出初始值，因为如果传入了空数组，第一种方式会因为找不到初始值而报错。

```js
[].reduce(function (sum, current) {
    return sum + current
}, 0) // => 0

[].reduce(function (sum, current) {
    return sum + current
}) // => TypeError: Reduce of empty array with no initial value
```

下面的代码可以累加对象数组中的值：

```js
let books = [
    { id: 1000, name: '哈利波特', price: 300 },
    { id: 1001, name: '北欧众神', price: 50 },
    { id: 1002, name: 'JOJO的奇妙冒险', price: 450 },
]

books.reduce(function(totalPrice, book){
    return totalPrice + book.price
}, 0) // => 800
```

### map()

将数组的每个元素调用处理函数之后，返回一个新数组。该方法不会修改原数组。

| 参数 | 描述 |
| --- | --- |
| 函数 | 迭代函数，包含最多以下三个参数： |
| 子参数① | 当前数组元素 |
| 子参数② | 可选，当前索引 |
| 子参数③ | 可选，调用该方法的数组 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 处理后的新数组 |

```js
[10, 20, 30].map(function (current, index, array) {
    return current * 2
}) // => [20, 40, 60]
```

### from()

静态方法，将一个伪数组或者类似数组的对象（只要包含`length`属性）转换为真正的数组。

| 参数 | 描述 |
| --- | --- |
| 对象 | 要转换的对象 |
| 函数 | 可选，表示处理函数，可以对当前遍历的元素进行操作，它的参数为当前元素，返回值为要执行的操作 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 转换后的数组 |

```js
var obj = { 0: 'hello', 1: 'world', length: 2 }

Array.from(obj) // => ['hello', 'world']
Array.from(obj, function (value) {
    return value += 'a'
}) // => ['helloa', 'worlda']
```

### isArray()

静态方法，判断一个值是否为数组。

| 参数 | 描述 |
| --- | --- |
| 对象 | 要判断的值 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果是数组则返回`true`，否则返回`false` |

```js
Array.isArray([1, 2, 3]) // => true
```

## String

### indexOf() / lastIndexOf()

获取一个字符串（参数）中的**第一个字符**在另一个字符串（调用者）中首次出现的位置。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要查找的字符串 |
| 数值 | 可选，表示从该索引位置（包括）向后查找 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 参数在字符串中首次出现的索引位置，如果不存在返回`-1` |

```js
var str = 'helloworld'
str.indexOf('o') // => 4
str.indexOf('world') // => 5
str.indexOf('Daisy') // => -1
str.indexOf('') // => 0
str.indexOf('o', 5) // => 6
```

与之类似的`lastIndexOf()`则是从后开始查找，注意它返回的索引是不会改变的，依然是从左开始计数。

```js
str.lastIndexOf('o') // => 6
str.indexOf('world') // => 5
```

### charAt() / charCodeAt()

获取字符串中某个位置的字符 / 字符编码。

| 参数 | 描述 |
| --- | --- |
| 数值 | 要查找的索引位置 |

| 返回值 | 描述 |
| --- | --- |
| 字符串 / 数值 | 该索引位置的字符 / 字符编码 |

```js
var str = 'helloworld'
str.charAt(5) // => 'w'
str.charCodeAt(5) // => 119
```

> `charAt()`与字符串直接加方括号`[]`的效果相同，如`str.charAt(5)`等价于`str[5]`。

### substring() / slice()

截取字符串，不会修改原字符串。

| 参数 | 描述 |
| --- | --- |
| 数值 | 起始索引（包括） |
| 数值 | 结束索引（不包括），如果省略则截取到最后 |

| 返回值 | 描述 |
| --- | --- |
| 字符串 | 截取后的字符串 |

```js
var str = 'helloworld'
str.substring(5, 7) // => wo
str.substring(5) // => world
str.substring(-3, -1) // => rl
```

> 与之类似的`substr()`已经被废弃，不要使用。

### replace()

替换字符串的一部分，不会修改原字符串。注意，该方法只能替换第一个匹配（除非使用全局匹配的正则）的内容。

| 参数 | 描述 |
| --- | --- |
| 字符串或正则表达式 | 被替换的旧内容 |
| 字符串 | 新内容 |

| 返回值 | 描述 |
| --- | --- |
| 字符串 | 替换后的字符串 |

```js
var str = 'hello123world123'
str.replace('o', 'x') // => hellx123world123，将第一个 o 替换成 x
str.replace(/123/, 'x') // => helloxworld123，将第一个 123 替换成 x
str.replace(/123/g, 'x') // => helloxworldx，开启了全局匹配
```

### repeat()

复制字符串，不会修改原字符串。

| 参数 | 描述 |
| --- | --- |
| 数值 | 复制的次数 |

| 返回值 | 描述 |
| --- | --- |
| 字符串 | 复制后的字符串 |

```js
var str = 'hello'
str.repeat(2) // => hellohello
```

### trim()

去除字符串两端的空格，不会修改原字符串。

| 返回值 | 描述 |
| --- | --- |
| 字符串 | 去除两端空格后的字符串 |

```js
' hello world  '.trim() // => 'hello world'
```

### startsWith() / endsWith()

判断字符串是否以指定内容开头 / 结尾。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要判断的内容 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果以指定内容开头 / 结尾返回`true`，否则返回`false` |

```js
var str = 'hello'
str.startsWith('he') // => true
str.endsWith('lo') // => true
```

### includes()

查找字符串中是否包含指定内容。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要查找的内容 |
| 数值 | 可选，表示从该索引位置（包括）向后查找 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果字符串中包含指定子串返回`true`，否则返回`false` |

```js
'helloworld'.includes('hello') // => true
'helloworld'.includes('') // => true，注意，空字符串也视为包含
```

### padStart() / padEnd()

当字符串长度不足时，以指定内容填充到字符串开头 / 末尾。

| 参数 | 描述 |
| --- | --- |
| 数值 | 目标长度 |
| 字符串 | 要填充的内容，如果填充后超过了目标长度，那么截断右侧多出的部分，默认值为`''` |

| 返回值 | 描述 |
| --- | --- |
| 字符串 | 填充后的新字符串 |

```js
'hello'.padStart(10) // => '     hello'
'hello'.padStart(10, 'a') // => 'aaaaahello'
'hello'.padStart(10, '1234567') // => '12345hello'
```

### split()

以某个字符作为分隔符，将字符串拆分为数组。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 表示分隔符，如果省略则相当于不拆分，如果为空字符串则拆分成单个字符 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 拆分后的数组 |

```js
var str = 'a|b|c'
str.split() // => ["a|b|c"]
str.split('') // => ["a", "|", "b", "|", "c"]
str.split('|') // => ["a", "b", "c"]
```

## Number

### toFixed()

设置小数的保留位数。

| 参数 | 描述 |
| --- | --- |
| 数值 | 要保留的位数，如果不传参数则**四舍五入**去掉小数位 |

| 返回值 | 描述 |
| --- | --- |
| **字符串** | 转换后的数值，注意它的类型 |

```js
var num = 9.876
num.toFixed() // => 10
num.toFixed(2) // => 9.88
num.toFixed(4) // => 9.8760
```

### parseInt() / parseFloat()

静态方法。将字符串转为整数（舍去小数位）/ 浮点数。它们会**依次**将每个字符转换为数字，直到遇到不能转为数字的字符，就不再继续，返回已经转换的部分。如果第一个字符就不能转化为数字（包括空字符串），返回`NaN`。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要转换的值，如果不是字符串，那么会先调用`toString()`将该值转换成字符串 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 转换后的数值 |

```js
Number.parseInt('15px') // =>15
Number.parseInt('abc') // => NaN
```

> ES5 这两个方法位于`window`对象中，ES6 将其移动到了`Number`对象中。

### isInteger()

判断一个值是否为整数。

| 参数 | 描述 |
| --- | --- |
| 对象 | 要判断的值 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果是整数则返回`true`，否则返回`false` |

```js
Number.isInteger('a') // => false
```

## Math

### abs()

静态方法。获取绝对值。

| 参数 | 描述 |
| --- | --- |
| 数值 | 要转换的值 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 转换后的绝对值 |

```js
Math.abs(-1) // => 1
```

### max() / min()

静态方法。获取参数列表中的最大值 / 最小值。

| 参数 | 描述 |
| --- | --- |
| 若干数值 | 要比较的值 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 参数列表的最大值 / 最小值 |

```js
Math.max(1, 5, 3) // => 5
Math.min(-1, -10) // => -1
```

### floor() / ceil() / round()

将数值向下 / 向上 / 四舍五入取整。

| 参数 | 描述 |
| --- | --- |
| 数值 | 要取整的值 |

| 返回值 | 描述 |
| --- | --- |
| 数值 | 取整后的值 |

```js
Math.floor(3.2) // 3
Math.floor(-3.2) // -4

Math.ceil(3.2) // 4
Math.ceil(-3.2) // -3

Math.round(0.4) // 0
Math.round(0.5) // 1
Math.round(-1.5) // -1，注意负数时，也是向大数取整，因此 -2 -1.5 -1，取更大的 -1
Math.round(-1.6) // -2
```

### random()

获取一个$[0, 1)$之间的伪随机数。

| 返回值 | 描述 |
| --- | --- |
| 数值 | 随机数 |

下面的函数可以返回一个$[min, max)$之间的**随机数**：

```js
function getRandom(min, max) {
  return Math.random() * (max - min) + min
}

getRandom(1, 6)
```

下面的函数可以返回一个$[min, max]$之间的**随机整数**：

```js
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1)) + min
}

getRandomInt(1, 6)
```

## Date

使用构造函数`Date()`可以实例化一个日期对象：

```js
new Date() // 创建一个当前时间的日期对象
new Date('1949-10-1 12:00:23') // 创建一个对应时间的日期对象
```

日期对象覆盖了`toString()`方法，因此直接`console.log()`会打印一长串的时间信息。

```js
console.log(new Date()) // => Sun Dec 22 2019 09:54:21 GMT+0800 (中国标准时间)
```

但是这样的格式基本没法直接使用，因此还需要使用日期对象中的一系列方法来获取想要的数据：

```js
var date = new Date('1949-10-1 12:00:23')
date.getFullYear()      // => 1949，获取年份
date.getMonth()         // => 9，注意月份是从 0 开始的，因此要得到正确的月份，请手动 +1
date.getDate()          // => 1，获取天
date.getDay()           // => 6，获取星期，注意周日为 0
date.getHours()         // => 12，获取小时数
date.getMinutes()       // => 0，获取分钟数
date.getSeconds()       // => 23，获取秒数
date.toLocaleString()   // => 1949/10/1 下午12:00:23，获取本地时间格式
```

### 时间戳

JavaScript 的日期基于 Unix 时间戳（从世界协调时 1970 年 1 月 1 日开始经过的毫秒数），通过日期对象的下列方法可以获取它的时间戳：

```js
var date = new Date('1949-10-1 12:00:23')
date.getTime() // => -639086377000
date.valueOf() // => -639086377000
```

或者在实例化日期对象时使用一元运算符`+`将其转为`Number`型，这样也可以直接使该对象自动调用`valueOf()`方法，从而获取时间戳：

```js
var timeStamp = +new Date('1949-10-1 12:00:23') // => -639086377000
```

如果只是获取当前时间的时间戳，使用`Date`对象的静态方法`now()`即可：

```js
var timeStamp = Date.now();
```

## RegExp

这里仅讨论正则表达式`RegExp`对象的相关方法，在这里查看[正则表达式规则](/posts/9d8oxogs.html)。

使用两条斜杠`//`包裹创建一个正则表达式对象。

```js
var regex = /hello/
```

### test()

验证字符串是否符合特定的正则表达式规则。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要验证的字符串 |

| 返回值 | 描述 |
| --- | --- |
| 布尔值 | 如果符合规则返回`true`，否则返回`false` |

```js
/hello/.test('helloworld') // => true
```

### exec()

获取匹配结果。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要验证的字符串 |

| 返回值 | 描述 |
| --- | --- |
| 数组 / `null` | 如果匹配则以数组索引`0`返回匹配结果，否则返回`null` |

如果正则表达式包含分组，则返回的数组会包括多个元素，其中索引`0`依然是整个匹配结果，而索引`1`之后则是每个单独分组匹配的结果。

```js
var regex = /(\w+)@(\w+).(\w+)/
var arr = regex.exec('qingyibest@163.com')
// arr[0] => qingyibest@163.com
// arr[1] => qingyibest
// arr[2] => 163
// arr[3] => com
```

此外，该数组还拥有两个属性，其中`index`表示成功匹配的第一个索引位置，`input`表示原字符串。

```js
var arr = /e/.exec('hello')
// index => 1
// input => hello
```

注意，如果字符串中有多个子字符串匹配，那么首次调用该方法只会返回第一个，要获取全部的结果，则需要使用循环遍历，且必须开启全局匹配。

```js
var str = '中国移动：10086；中国电信：10000；中国联通：10010'
var regex = /[0-9]{5}/g
var arr1 = regex.exec(str)  // arr1[0] => 10086
var arr2 = regex.exec(str)  // arr2[0] => 10000
var arr3 = regex.exec(str)  // arr3[0] => 10010
```

### 修饰符

修饰符类似于正则对象的配置参数，它们定义在正则对象的`/`之后，且可以同时定义多个。

修饰符`g`表示全局匹配。默认情况下，当第一次找到符合规则的部分后，就不再继续向下匹配。开启全局匹配后表示查找整个字符串中全部符合规则的部分，主要用于搜索和替换。

```js
'helloworld'.replace(/o/, 'x') // => hellxworld
'helloworld'.replace(/o/g, 'x') // => hellxwxrld
```

修饰符`i`表示忽略大小写。

```js
;/abc/.test('ABC') // => false
;/abc/i.test('ABC') // => true
```

## JSON

JSON（JavaScript Object Notation，JavaScript 对象表示法）是现在非常流行的一种数据格式，它取代了之前常用的 XML，用来传输数据。它的主要格式规则如下：

- 有大括号`{}`和方括号`[]`两种语法，大括号`{}`用来描述不同类型的无序键值对集合，方括号`[]`用来描述相同类型的有序数据集合
- 键名必须用**双引号**包裹
- 字符串必须用**双引号**包裹，不能用单引号
- 引用类型的值只能是数组或对象，不能是函数、日期等
- 基本类型的值只能是字符串、数值、布尔值或`null`

JavaScript 提供了内置对象`JSON`来操作 JSON 数据，它除了调用以下两个静态方法以外本身并没有其它作用。

```js
// 下面是一些合法的 JSON
["one", "two", "three"]
{"one": 1, "two": 2, "three": 3}
{"names": ["张三", "李四"]}
[{ "name": "张三"}, {"name": "李四"}]
```

### stringify()

将 JavaScript 对象转换为 JSON 字符串。

```js
JSON.stringify({name: "Lucy", weight: 15}) // => {"name":"Lucy","weight":15}
JSON.stringify(['a', 'b', 'c']) // => ["a","b","c"]
```

### parse()

将 JSON 字符串转换为 JavaScript 对象。

```js
JSON.parse('{"name": "Lucy", "age": 18}') // => 对象 {name: 'Lucy', age: 18}
JSON.parse('["a", "b", "c"]') // => 数组 ['a', 'b', 'c']
```

## Object

### toString()

获取表示该对象类型的字符串。不过，由于 JavaScript 内置的多个对象（如数组、字符串、函数、日期等）都使用了自己的`toString()`将其覆盖，因此使用这些对象调用`toString()`时，会输出不一样的内容。

| 数据类型或对象 | 返回值 |
| --- | --- |
| `Undefined` | `'undefined'` |
| `Null` | `'null'` |
| `Boolean` | `'true'`或者`'false'` |
| `Number` | 数值对应的字符串形式 |
| `Object` | `[object Object]` |
| 数组 | 以逗号分隔的元素，如`[1, 2, 3]`返回`1,2,3` |
| 函数 | 函数源代码 |
| 日期 | 如`Mon Sep 16 2019 17:01:43 GMT+0800 (中国标准时间)` |

由于任何对象调用`toString()`方法默认会返回表示该对象类型的字符串，因此可以利用这一特性判断对象的数据类型。不过因为某些对象的`toString()`方法已经被覆盖，因此要通过`Object`来调用该方法，然后将要判断的对象作为`call()`的参数传进去。

```js
var arr = [1, 2, 3]
Object.prototype.toString.call(arr) // => [object Array]
```

常见对象的返回值如下，其它对象均返回`[object Object]`：

| 对象 | 返回值 | 对象 | 返回值 | 对象 | 返回值 |
| --- | --- | --- | --- | --- | --- |
| `Number` | `[object Number]` | `String` | `[object String]` | `Boolean` | `[object Boolean]` |
| `Undefined` | `[object Undefined]` | `Null` | `[object Null]` | `Array` | `[object Array]`|
| `Arguments` | `[object Arguments]` | `Function` | `[object Function]` | `Date` | `[object Date]` |

### keys()

获取一个对象的属性名，以数组形式返回。

| 参数 | 描述 |
| --- | --- |
| 对象 | 要获取属性的对象 |

| 返回值 | 描述 |
| --- | --- |
| 数组 | 对象的属性名组成的数组 |

```js
var phone = { id: 1, pname: '小米', price: 3999 }
Object.keys(obj) // => [id, pname, price]
```

## Console

### log()

在控制台输出信息。

```js
console.log('hello')
```

注意，Chrome 浏览器在输出数组或对象类型时默认是折叠的，详细数据需要展开才能显示。但是，当展开数据时，浏览器会重新获取一次数据。也就是说，展开时看到的数据**不一定**是当时代码执行到`console.log()`处的结果。

### dir()

在控制台输出对象的所有属性和值。这种方式可以更加直观的看到对象的各种信息。

```js
console.log({f1: 'foo', f2: 'bar'}) // => {f1: "foo", f2: "bar"}
```