---
title: 大前端笔记之19 😄 jQuery
date: 2020-02-08 11:14:12
abbrlink: xw3mvken
tags: JavaScript
categories: 大前端
excerpt: jQuery 是最常用的 JavaScript 的第三方库，它封装了复杂的原生 DOM、事件等操作，并且提供了一些简单的动画效果。
---

# 大前端笔记之19 😄 jQuery

[jQuery](https://jquery.com/)是最常用的 JavaScript 的第三方库，它封装了复杂的原生 DOM、事件等操作，并且提供了一些简单的动画效果。

## 基本概念

使用`$()`并传入字符串形式的 CSS 选择器即可获取一个 jQuery 对象，其中的`$`是`jQuery`的简写。注意，DOM 对象是原生的，而 jQuery 对象是将 DOM 对象封装后产生的，它们两者的属性和方法不能混用。

```js
$('.nav-item') // => jQuery 对象
```

要将 jQuery 对象转换成 DOM 对象，可以通过 jQuery 对象的索引取出 DOM 对象。这是因为 jQuery 的对象是将 DOM 对象封装在一个**伪数组**中：

```js
$('#footer')[0] // DOM 对象
```

或者使用 jQuery 对象的`get()`方法：

```js
$('#footer').get(0) // DOM 对象
```

要将 DOM 对象转换成 jQuery 对象，那么直接将它放到`$()`中就可以了：

```js
var footer = document.querySelector('footer') // DOM 对象
$(footer) // jQuery 对象
```

由于 jQuery 对象是一个伪数组，因此不能通过`null`判断要获取的 jQuery 对象是否存在。因为即便是没有找到对应的 DOM 对象，这个 jQuery 对象是肯定会存在的，所以应该通过**数组长度**来判断：

```js
var $footer = $("#footer")

if ($footer == null) {} // 错误
if ($footer.length == 0) {} // 正确
```

jQuery 对象拥有**隐式迭代**的特性，也就是说如果同时获取到多个页面元素，那么 jQuery 会自动在内部完成遍历，无需手动取出单个对象进行操作。

```js
$('.nav-item').css('background', '#66ccff') // 页面有多个 .nav-item 元素，会全部修改背景色
```

## 操作元素

jQuery 最主要的特性之一就是简化了 DOM 操作。

### children() / find()

获取该元素的子元素 / 后代元素。

| 参数 | 描述 |
| --- | --- |
| 选择器 | 对元素进一步过滤 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('div').children('p')
$('div').find('p')
```

### parent() / parents()

获取该元素的父元素 / 祖先元素。

| 参数 | 描述 |
| --- | --- |
| 选择器 | 对元素进一步过滤 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('span').parent('p')
$('span').parents('p')
```

### siblings()

获取该元素的兄弟元素，但不包括本身。

| 参数 | 描述 |
| --- | --- |
| 选择器 | 对元素进一步过滤 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('li').siblings()
```

### next() / nextAll()

获取该元素的下一个 / 后续全部兄弟元素。

| 参数 | 描述 |
| --- | --- |
| 选择器 | 对元素进一步过滤 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('#header').next()
$('#header').nextAll()
```

### prev() / prevAll()

获取该元素的上一个 / 之前全部兄弟元素。

| 参数 | 描述 |
| --- | --- |
| 选择器 | 对元素进一步过滤 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('#header').prev()
$('#header').prevAll()
```

### first() / last()

获取多个元素中的第一个 / 最后一个元素。

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('li').first() // 获取第一个 <li>
$('li').last() // 获取最后一个 <li>
```

### eq()

获取多个元素中的第 n 个元素。

| 参数 | 描述 |
| --- | --- |
| 整数值 | 元素索引，从`0`开始计数，如果为负数则表示从后开始，`-1`表示最后一个元素 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('li').eq(0) // 获取第一个 <li>
```

### slice()

根据索引获取多个元素中之间的元素。

| 参数 | 描述 |
| --- | --- |
| 整数值 | 起始索引（包括），如果为负数则表示从后开始，`-1`表示最后一个元素 |
| 整数值 | 结束索引（不包括），如果为负数则表示从后开始，`-1`表示最后一个元素；如果省略则一直到最后一个元素 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 符合条件的对象 |

```js
$('li').slice(0, 2) // 获取 第一个、第二个 <li>
```

### index()

获取元素相对于**兄弟元素**的索引位置，如果要查找的元素不止一个，那么以其中第一个为准。

| 返回值 | 描述 |
| --- | --- |
| 整数值 | 元素相对于兄弟元素的索引位置 |

```html
<ul>
    <li></li>
    <li></li>
    <li class="target"></li>
</ul>
```

```js
$('.target').index() // => 2
```

### each()

遍历多个元素。

| 参数 | 描述 |
| --- | --- |
| 函数 | 迭代函数，注意其中的`this`表示当前 DOM 对象，而不是 jQuery 对象。该函数提供两个参数，第一个参数表示当前索引，第二个参数表示当前的 DOM 对象 |

```js
$('div').each(function (index, el) {
    el // 当前 DOM 元素，与 this 相同
})
```

### append() / prepend()

将元素（参数，子元素）添加到另一个元素（调用者，父元素）的末尾 / 开头。

| 参数 | 描述 |
| --- | --- |
| DOM 对象 / jQuery 对象 / HTML 字符串 | 要添加的子元素，如果元素在页面上已经存在，那么该方法会**移动**该元素，而非复制 |

```html
<ul>
    <li>咩咩子</li>
</ul>
```

```js
$('ul').append('<li>炎王喵</li>')

// <ul>
//     <li>咩咩子</li>
//     <li>炎王喵</li>
// </ul>
```

### after() / before()

将元素（参数）添加到另一个元素（调用者）之后 / 之前，作为其兄弟元素。

| 参数 | 描述 |
| --- | --- |
| DOM 对象 / jQuery 对象 / HTML 字符串 | 要添加的子元素，如果元素在页面上已经存在，那么该方法会**移动**该元素，而非复制 |

```html
<div class="target">炎王喵</div>
```

```js
$('.target').after('<div>咩咩子</div>')

// <div class="target">炎王喵</div>
// <div>咩咩子</div>
```

### clone()

复制元素，包括其中的子元素和文本。

| 参数 | 描述 |
| --- | --- |
| 布尔值 | 默认值为`false`，如果为`true`，则表示将元素绑定的事件一同复制 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 复制的元素 |

```js
var newLi = $('li').clone(true) // 同时复制事件
```

### wrap()

在指定元素外部包裹一个元素。

| 参数 | 描述 |
| --- | --- |
| DOM 对象 / jQuery 对象 / HTML 字符串 | 用来包裹在外层的元素 |

```js
$('p').wrap("<div></div>") // 在所有 <p> 外层包裹一个`<div>`
```

### remove()

删除元素，包括子元素和绑定的事件。

| 参数 | 描述 |
| --- | --- |
| 选择器 | 对元素进一步过滤 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 被删除的元素 |

```js
$('li').remove('.first') // 删除包含 first 类的 <li>
```

### empty()

清空元素，包括子元素和文本内容。

```js
$('ul').empty() // 清空 <ul>，但 <ul> 本身还在
```

### 元素过滤

在上述的选择器参数中，还可以继续使用下列过滤器对元素过滤。其中一些过滤器与上述某些方法功能相同，此时为了操作方便，应该优先考虑使用方法。

#### 基础过滤

索引都是从`0`开始的，因此第一个元素是索引为`0`的元素。

| 选择器 | 描述 |
| --- | --- |
| `:first` | 选择第一个元素 |
| `:last` | 选择最后一个元素 |
| `:not(selector)` | 选择不满足给定条件的元素 |
| `:even` | 选择索引为偶数的元素（索引从`0`开始） |
| `:odd` | 选择索引为奇数的元素（索引从`0`开始） |
| `:eq(index)` | 选择等于该索引的元素 |
| `:gt(index)` | 选择**大于**该索引的元素 |
| `:lt(index)` | 选择**小于**该索引的元素 |
| `:header` | 选择所有的标题元素 |
| `:focus` | 选择当前获得焦点的元素 |

```js
$('p').first() // 等价于
$('p:first')
```

#### 内容过滤

| 选择器 | 描述 |
| --- | --- |
| `:contains('text')` | 选择包含指定文本的元素，参数的引号可选 |
| `:empty` | 选择所有没有子元素的元素（包括文本节点） |
| `:parent` | 选择所有包含子元素的元素（包括文本节点） |

#### 可见性过滤

| 选择器 | 描述 |
| --- | --- |
| `:hidden` | 选择所有隐藏的元素 |
| `:visible` | 选择所有可见的元素 |

隐藏元素具体指的是：

- `display: none`的元素
- `type`属性为`hidden`的表单元素
- `width`和`height`都为`0`的元素

也就是说，如果一个元素没有占据布局空间，那么就被认为是隐藏的。注意，`visibility: hidden`或`opacity: 0`的元素被认为是可见的，因为它们依然占据布局空间。

#### 子元素过滤

| 选择器 | 描述 |
| --- | --- |
| `:nth-child()` | 选择第 n 个子元素 |
| `:first-child` | 选择第一个子元素 |
| `:last-child` | 选择最后一个子元素 |

注意，由于`:nth-child()`是基于 CSS 规范的选择器，因此与`:eq()`不同，它的索引是从`1`开始的。

此外，`:first-child`可以选择所有匹配的父元素下的所有子元素，而`:first`只能选择一个。例如：

```html
<ul>
    <li>咩咩子</li>
    <li>炎王喵</li>
    <li>麒麟</li>
</ul>

<ul>
    <li>钢龙</li>
    <li>尸套龙</li>
    <li>贝西摩斯</li>
</ul>
```

```js
$('ul li:first') // 只能选择咩咩子
$('ul li:first-child') // 选择咩咩子和钢龙
```

#### 表单元素过滤

| 选择器 | 描述 |
| --- | --- |
| `:input` | 选择所有的`<input>`、`<textarea>`、`<select>`和`<button>`元素 |
| `:text` | 选择所有`type="text"`或者没有设置`type`属性的`<input>`元素 |
| `:password` | 选择所有的密码框元素 |
| `:radio` | 选择所有的单选框元素 |
| `:checkbox` | 选择所有的复选框元素 |
| `:submit` | 选择所有的提交按钮（包括表单中没有设置`type`属性的`<button>`元素） |
| `:reset` | 选择所有的重置按钮 |
| `:button` | 选择所有的按钮元素 |
| `:file` | 选择所有的上传域 |
| `:checked` | 选择所有被选中的单选框和复选框 |
| `:selected` | 选择所有被选中的下拉列表项 |
| `:enabled` | 选择所有未被禁用的元素 |
| `:disabled` | 选择所有被禁用的元素 |

## 操作文本

### html() / text()

获取或设置单个元素的文本内容。后者会忽略内容中的 HTML 标签，返回只包含文字部分的内容。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 可选，如果为空则表示获取值，否则为设置值 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 / 字符串 | 如果是设置内容，则返回调用方法的元素；如果是获取内容，则返回内容的字符串 |

```html
<div class="container">
    <div class="box">Demonstration Box</div>
</div>
```

```js
$('.container').html() // => <div class="box">Demonstration Box</div>
$('.container').text() // => Demonstration Box
```

## 操作属性

### val()

设置或者获取表单元素的`value`属性值。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 可选，如果为空则表示获取值，否则为设置值 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 / 字符串 | 如果是设置内容，则返回调用方法的元素；如果是获取内容，则返回内容的字符串 |

```js
$('input').val('我是谁？我在哪？') // 设置 <input> 元素的 value 属性值
$('input').val() // => 我是谁？我在哪？
```

### attr() / prop()

获取或设置元素的属性。它们的区别在于，`attr()`只能获取 HTML 标签上的属性，因此，对于当前不存在的属性，`attr()`会返回`undefined`，这会导致一些**布尔属性**如`checked`、`selected`或`disabled`无法正确的返回`false`值。而`prop()`获取的是元素 DOM 对象的属性，比 HTML 元素标签上写明的属性要多很多，因此可以正确获取布尔属性的值。

| 参数 | 描述 |
| --- | --- |
| 单个字符串 | 单个字符串为属性名，表示获取该属性 |
| 两个字符串 | 两个字符串分别为属性名和属性值，表示设置该属性 |
| 单个对象 | 同时设置多个属性 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 / 字符串 | 如果是设置内容，则返回调用方法的元素；如果是获取内容，则返回内容的字符串 |

```js
$('img').attr('src') // 获取单个属性
$('img').attr('src', '1.jpg') // 设置单个属性
$('img').attr({ // 设置多个属性
    src: '1.jpg', 
    alt: '嗯，图片没显示出来'
})
```

### removeAttr()

移除元素的属性。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 要移除的属性名 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$('img').removeAttr('src') // 移除 src 属性
```

### 类属性

jQuery 提供了下列方法用来简化类属性操作。如果需要同时操作多个类，可以使用空格将其隔开：

| 方法 | 描述 |
| --- | --- |
| `addClass()` | 添加类 |
| `removeClass()` | 删除类 |
| `hasClass()` | 判断该对象是否包含某个类 |
| `toggleClass()` | 如果某个类存在，则移除该类，否则添加该类 |

```js
$('button').addClass('btn-danger btn').removeClass('btn-warning')
$('button').hasClass('btn-danger btn')
$('button').toggleClass('btn-danger btn')
```

### 自定义属性

使用`data()`获取或设置元素的自定义属性，也可以获取元素上的`data-`属性，不需要添加前缀。注意，虽然通过该方法可以获取`data-`属性，但是该方法设置的属性却不会呈现到元素的`data-`属性上。

```js
$('div').data('id', 1) // 设置自定义属性
$('div').data('id') // => 1，获取自定义属性
```

## 操作样式

### css()

获取或设置元素的 CSS 样式。注意，该方法不支持简写属性，如`margin`、`border`等，表示属性值的参数如果为数字值，也可以不使用字符串。

| 参数 | 描述 |
| --- | --- |
| 单个字符串 | 单个字符串为样式名，表示获取该样式 |
| 两个字符串 | 两个字符串分别为样式名和样式值，表示设置该样式 |
| 单个对象 | 同时设置多个样式 |
| 单个数组 | 同时获取多个样式 |

```js
$('div').css('backgroundColor') // 获取单个样式
$('div').css(['width', 'height']) // => { width: "300px", height: "300px" }，获取多个样式
$('div').css('width', '500px') // 设置单个样式
$('div').css({ // 设置多个样式
    width: 500, // 可以是数字值或字符串
    height: '500px' 
})
```

> 不同于原生的样式操作，这里的样式名称也可以是连字符形式，也就是说`css('font-size')`和`css('fontSize')`都是合法的。

### 元素大小

使用 jQuery 对象的下列方法可以获取与元素大小相关的信息，它们均**不包含单位**。

| 方法 | 描述 |
| --- | --- |
| `width()` | 获取元素内容区的宽度 |
| `height()` | 获取元素内容区的高度 |
| `innerWidth()` | 获取元素`padding`区域的宽度 |
| `innerHeight()` | 获取元素`padding`区域的高度 |
| `outerWidth()` | 获取元素`border`区域的宽度，如果传入参数`true`，则表示`margin`区域 |
| `outerHeight()` | 获取元素`border`区域的高度，如果传入参数`true`，则表示`margin`区域 |

对于`width()`和`height()`来说，即便设置了`box-sizing: border-box`，那么返回的值是`width`依然是内容区的大小。

```css
div {
    box-sizing: border-box;
    width: 400px;
    padding: 50px;
}
```

```js
$('div').width() // => 300
```

### 滚动距离

使用 jQuery 对象的下列方法可以获取或设置与元素滚动距离相关的信息，它们均**不包含单位**。

| 方法 | 描述 |
| --- | --- |
| `scrollLeft()` | 获取或设置元素水平方向滚动出去的距离 |
| `scrollTop()` | 获取或设置元素垂直方向滚动出去的距离 |

```js
// 获取页面的垂直滚动距离
$(document).scroll(function () { // 监听 window 和 document 对象均可
    $(document).scrollTop() // 获取 window 和 document 对象均可
})

// 设置页面的滚动距离
$(document).scrollTop(500)
```

### 位置

使用 jQuery 对象的下列方法可以获取与元素位置相关的信息，它们均**不包含单位**。

| 方法 | 描述 |
| --- | --- |
| `offset()` | 获取元素相对于**文档**的位置，该方法以对象形式返回坐标，包含`left`和`top`两个属性 |
| `position()` | 获取元素相对于**最近且定位的父元素**的位置，该方法以对象形式返回坐标，包含`left`和`top`两个属性，对应原生的`offsetLeft`和`offsetTop`两个属性 |

```js
$('div').offset().top
$('div').position().top
```

## 动画

### fadeIn() / fadeOut() / fadeToggle()

使元素淡入显示 / 淡出隐藏 / 切换淡入淡出。

| 参数 | 描述 |
| --- | --- |
| 整数值 | 可选，动画持续时间，单位为毫秒，默认为`400` |
| 字符串 | 可选，调速函数，默认为`swing`，可修改为`linear` |
| 函数 | 动画结束后的回调函数 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$('div').fadeIn(300, 'linear', function() {
    console.log('动画完成！')
})
```

### fadeTo()

使元素淡入 / 淡出到指定的透明度。

| 参数 | 描述 |
| --- | --- |
| 整数值 | 可选，动画持续时间，单位为毫秒，默认为`400` |
| 数值 | 目标不透明度 |
| 字符串 | 可选，调速函数，默认为`swing`，可修改为`linear` |
| 函数 | 动画结束后的回调函数 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

### slideDown() / slideUp() / slideToggle()

使元素滑动显示 / 滑动隐藏 / 切换滑动显示与隐藏。

| 参数 | 描述 |
| --- | --- |
| 整数值 | 可选，动画持续时间，单位为毫秒，默认为`400` |
| 字符串 | 可选，调速函数，默认为`swing`，可修改为`linear` |
| 函数 | 动画结束后的回调函数 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$('div').slideDown(300, 'linear', function() {
    console.log('动画完成！')
})
```

### animate()

自定义动画。该方法默认不支持颜色的动画效果，除非使用插件。

| 参数 | 描述 |
| --- | --- |
| 对象 | 包含 CSS 属性值的对象，表示动画的结束状态，属性值可以为**相对值**，比如`-=`或者`+=`，表示基于之前动画的结果进行新的动画 |
| 整数值 | 可选，动画持续时间，单位为毫秒，默认为`400` |
| 字符串 | 可选，调速函数，默认为`swing`，可修改为`linear` |
| 函数 | 动画结束后的回调函数 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$div.animate({
    left: 1000,
    width: 100
}, 1000, 'linear', function () {})
```

一些非 CSS 属性如`scrollTop`、`scrollLeft`也可用于动画。比如下面的代码可以使页面逐渐滚动到顶部：

```js
// 通过 html 还是 body 元素有待根据浏览器测试
$('html, body').animate({
    scrollTop: 0
}, 1000)
```

### stop()

jQuery 会将动画效果存储到一个队列当中依次执行。但是这样会带来一个问题，如果连续触发动画，由于上一步的动画还没有完成，新的动画又被触发，因此会出现点击与动画不一致的情况。

要解决这个问题，可以在调用动画函数前添加`stop()`函数，使元素停止当前正在进行的动画，这样就能在每次执行新的动画前，结束上次动画的效果。

| 参数 | 描述 |
| --- | --- |
| 布尔值 | 是否清空整个动画序列，而不仅仅是停止**当前**动画 |
| 布尔值 | 是否立即完成当前动画，而不仅仅是**停止**动画 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$div.stop(true, true).slideToggle()
```

### delay()

延迟下一个动画的执行。

| 参数 | 描述 |
| --- | --- |
| 整数值 | 延迟时间，单位为毫秒 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$div.fadeIn().delay(200).fadeOut()
```

## 事件

### on() / one()

为元素绑定一个或多个事件。区别在于后者当**每个元素**上触发**同一个事件**后，它绑定的事件就会被自动解除。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 事件名称，多个事件以空格隔开 |
| 选择器 | 表示事件委托的子元素（见下文） |
| 函数 | 事件监听函数，该函数提供一个参数表示事件对象 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$btn.on('click mouseover', function (e) { // 为元素绑定多个事件
    console.log('事件被触发！')
})
```

通常情况下事件会绑定到要触发的元素上，但这样有一个问题，页面加载完成后新添加的元素是不会有事件的。

因此 jQuery 提供了一种**委托事件**的机制，将事件绑定到已经存在的父元素上，然后利用事件冒泡把事件交给子元素，这样无论子元素绑定事件时是否存在，都可以从父元素获取到相应的事件。

要使用事件委托，需要在`on()`方法中传入一个选择器参数，表示要绑定的子元素，再通过**父元素**调用`on()`方法即可：

```js
$('ul').on('click', 'li', function () {
    console.log('事件被触发啦')
})
```

此外，对于一些常用的事件，jQuery 也提供了单独的方法进行绑定，相当于通用事件的快捷版本。

```js
$btn.on('click', function () {}) // 等价于
$btn.click(function () {})
```

### off()

移除元素的事件。

| 参数 | 描述 |
| --- | --- |
| 字符串 | 事件名称，多个事件以空格隔开，如果为空则移除元素上的所有的事件 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$btn.off('click mouseover') // 移除对应的事件
$btn.off() // 移除所有的事件
$btn.off('click', 'li') // 移除事件委托
```

### trigger() / triggerHandler()

触发元素的事件。区别在于，后者不会触发元素的默认行为（比如文本框的`focus`会自动定位光标），并且不会将事件冒泡。

```js
$btn.trigger('click')
```

此外，如果事件方法没有传入事件监听函数，那么相当于触发该元素的对应事件，为`trigger()`的快捷版本。

```js
$btn.click()
```

### hover()

同时设置鼠标进入和离开的事件，相当于同时绑定了`mouseenter`和`mouseleave`两个事件。

| 参数 | 描述 |
| --- | --- |
| 一个函数 | 事件监听函数，鼠标进入和离开时触发 |
| 两个函数 | 事件监听函数，前者鼠标进入时触发，后者鼠标离开时触发 |

| 返回值 | 描述 |
| --- | --- |
| jQuery 对象 | 调用方法的元素 |

```js
$('div').hover(function () {})
```

## 扩展方法

除了上述的特性以外，jQuery 也提供了一些方法用来扩展原生的对象操作。它们均是通过`jQuery`对象也就是`$`调用。

### extend()

将多个对象合并成一个。如果目标对象与源对象属性出现重复，那么目标对象中的属性会被覆盖。该方法会修改保留的对象。

| 参数 | 描述 |
| --- | --- |
| 布尔值 | 可选，表示深拷贝 |
| 对象 | 合并后保留的对象 |
| 若干对象 | 合并后被删除的对象 |

| 返回值 | 描述 |
| --- | --- |
| 对象 | 合并后保留的对象 |

```js
var target = {id: 1}
var source = {id: 233, name: 'JOJO'}

$.extend(target, source) // => {id: 233, name: "JOJO"}
target // => {id: 233, name: "JOJO"}
```

如果在目标对象参数前添加一个布尔值参数，则表示深拷贝。即如果源对象中包含复杂数据类型（如数组、对象等），那么采用递归方式复制对象内容，而不是简单的复制地址。

```js
var target = {}
var source = {
    address: { city: 'NY' }
}

// 默认浅拷贝，target 和 source 中的 address 对象都指向一个值
$.extend(target, source)
target.address.city = 'Tokyo'
source.address.city // => Tokyo

// 深拷贝，target 中的 address 对象为新的内容
$.extend(true, target, source)
target.address.city = 'Tokyo'
source.address.city // => NY
```

### each()

遍历对象。与 jQuery 元素的`each()`方法不同的是，`each()`仅能遍历 jQuery 对象，而`$.each()`还可以遍历数组或者 JavaScript 的键值对对象。

| 参数 | 描述 |
| --- | --- |
| 函数 | 迭代函数，该函数提供两个参数，第一个参数表示当前索引，第二个参数表示当前元素 |

```js
var arr = ['red', 'blue', 'green']
$.each(arr, function (index, el) {
    index + ' ' + el
})
// 0 red
// 1 blue
// 2 green

var arr = {name: 'dante', age: 18}
$.each(arr, function (index, el) {
    index + ' ' + el
})
// name dante
// age 18
```